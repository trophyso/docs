---
title: Emails
description: Learn how to use emails in a gamified product experience with Trophy.
"og:description": Use automated email flows to extend your gamification experience outside your app and remind users to keep coming back.
icon: mail
---

Trophy can send automated emails to users based on key triggers without requiring any code. Here we'll look at what these triggers are, and how they can form part of your product's gamification experience.

## Types Of Emails

Trophy supports 3 types of emails, each of which is designed to suit a common scenario in building gamification experiences.

All emails are optional, but all three can be used simultaneously and can be controlled from the [Emails](https://app.trophy.so/emails/configure) page in the Trophy dashboard.

<Frame>
  <img height="200" noZoom src="../assets/platform/emails/email_types.png" />
</Frame>

### Achievement Emails

Achievement emails are sent to users each time they unlock an [Achievement](/platform/achievements).

### Recap Emails

Recap emails are sent to users on a pre-defined frequency to summarize progress. Recap Emails can be configured to be sent daily, weekly, monthly or yearly depending on your use case.

### Reactivation Emails

As Trophy monitors usage across your entire userbase, it can tell when your users are looking like they are becoming inactive. To encourage them to become active again, Trophy can send automated win-back emails to them.

Emails are sent as follows:

- After 3 days of inactivity
- After 5 days of inactivity
- After 7 days of inactivity
- After 14 days of inactivity
- After 30 days of inactivity

## Designing Emails

Trophy has a fully-featured block-based email builder that allows you to design templates, controlling all email copy and subject lines. Within the [Emails](https://app.trophy.so/emails/configure) page you can create templates and assign them to the 3 different [Email Types](#types-of-emails).

<Tip>
  When you create an email template, it can simulatenously be used across as
  many email types as you want. So if you want your emails to be simple, just
  having one email template might be enough. Otherwise, general best practice is
  creating one template for each type of email you want to send.
</Tip>

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-15/4"
    src="../assets/platform/emails/designing_emails.mp4"
  ></video>
</Frame>

### Default Templates

By default, Trophy provides 3 email templates that are good starting points for the different [Email Types](#types-of-emails) that Trophy offers. The default templates can't be changed, but you can duplicate and customize these as you wish.

<Tip>
  You can also create blank templates if you just want to start from scratch.
</Tip>

### Creating A New Template

To create a new email template, follow the steps below.

<Steps>
  <Step title="Head to the Emails page">
    Within the Emails page, you'll find the
    [Configure](https://app.trophy.so/emails/configure) tab which is where all
    your email templates live, as well as the configuration for deciding which
    template to use against each trigger.
  </Step>
  <Step title="Hit the Add Template button">
    Choose an existing template to start from based on your use case, or create a new template from scratch.

    <Frame>
      <img
        height="200"
        width="100%"
        noZoom
        src="../assets/platform/emails/choose_template.png"
      />
    </Frame>

  </Step>
  <Step title="Design your new template">
    Use the block-based editor to design your email template.

    <Frame>
      <video
        autoPlay
        muted
        loop
        playsInline
        className="w-full aspect-15/4"
        src="../assets/platform/emails/designing_emails.mp4"
      ></video>
    </Frame>

  </Step>
</Steps>

### Block Types

Trophy's email builder supports a number of block types suited to various use cases. It has all the basic components you'd expect like H1, H2, images etc that we call [Basic Blocks](#basic-blocks), and more powerful components that leverage Trophy's user tracking data and are designed to suit common gamification use cases. We call these [Smart Blocks](#smart-blocks).

<Frame>
  <img
    height="200"
    width="100%"
    noZoom
    src="../assets/platform/emails/block_types_dialog.png"
  />
</Frame>

#### Basic Blocks

Here's the full list of un-opinionated basic blocks that Trophy supports:

- **Paragraph** - Good for short or longer text snippets.
- **H1, H2, H3** - Useful for headings of varying sizes.
- **Button** - Creates a call to action for users to take in emails.
- **Card** - Can nest other blocks, focusing attention.
- **Divider** - Good for seperating content into logical sections.
- **Emoji** - Include any supported emoji, controlling size.
- **Image** - Upload any image and Trophy will render it in emails.
- **Spacer** - Good for giving blocks room to stand out.
- **Columns** - Useful for creating up to 3-column layouts with any content.
- **Logo** - Will render your organization's logo, set on the [Branding](https://app.trophy.so/branding) page.

#### Conditional Blocks

Trophy also has a powerful conditional rendering system powered by the _Conditional_ block type.

By nesting any other block inside a conditional block and setting up the conditions logic, you can create almost any email design that will show different blocks in emails based on the evaluation of conditions at send time.

If you're familiar with the `if/else if/else` logical operators then this will feel very famililar to you. Otherwise here's a quick diagram to explain how it works.

```mermaid
flowchart LR
    B@{ shape: diamond, label: "First condition true?" }
    C@{ shape: rounded, label: "Show first block" }
    D@{ shape: diamond, label: "Second condition true?" }
    E@{ shape: rounded, label: "Show second block" }
    F@{ shape: rounded, label: "Show default block" }

    B-- Yes --->C
    B-- No --->D
    D-- Yes --->E
    D-- No --->F
```

Here's an example of this is an action where we use the _Has Active Streak_ variable to conditionally show the recipient their current streak (one of Trophy's built-in [Smart Blocks](#smart-blocks)) when they are on one. If the recipient isn't on a streak at the time the email is sent, then a simple message is displayed instead.

<Frame>
  <img
    height="100"
    width="50%"
    noZoom
    src="../assets/platform/emails/conditional_block.png"
  />
</Frame>

This creates a powerful framework to design emails based on highly relevent and personalized user data and can be used to create a wide-range of emails for common gamification use cases.

#### Smart Blocks

Smart blocks are powerful components designed to support common gamification use cases and integrate with all of Trophy's features including metrics, achievements and streaks.

You can find all smart blocks in the _Recommended Blocks_ section and are always recognizable by the <Icon icon="zap" /> icon.

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/smart_blocks.mp4"
  ></video>
</Frame>

Read more about the use case of each smart block:

<AccordionGroup>
  <Accordion title="Achievement Progress Chart" icon="zap">
    The achievement progress chart block displays a chart with bars for up to five achievements for a particular metric, highlighting any that the recipient has unlocked.
    
    Choose the metric to display achievements for using the metric selector.

    <Frame>
      <video
        autoPlay
        muted
        loop
        playsInline
        className="w-full aspect-video"
        src="../assets/platform/emails/achievement_progress_block.mp4"
      ></video>
    </Frame>

  </Accordion>

{" "}

<Accordion title="Achievements Unlocked" icon="zap">
  The achievements unlocked block displays the achievement the recipient has unlocked. This is only useful in the context of achievement unlocked emails. If the recipient hasn't unlocked any achievements, then this block won't show in emails.

Where achievements have badges, these will be automatically shown, as well as the name of the achievement.

  <Frame>
      <video
        autoPlay
        muted
        loop
        playsInline
        className="w-full aspect-video"
        src="../assets/platform/emails/achievements_unlocked_block.mp4"
      ></video>
    </Frame>
</Accordion>

{" "}

<Accordion title="Progress Chart" icon="zap">
  The progress chart block shows the recipients progress against a particular metric over the last 3 [aggregation periods](#aggregation-period).

  <Frame>
      <video
        autoPlay
        muted
        loop
        playsInline
        className="w-full aspect-video"
        src="../assets/platform/emails/progress_chart_block.mp4"
      ></video>
    </Frame>
</Accordion>

  <Accordion title="Streak" icon="zap">
    The streak block displays the recipients current streak according to your accounts streak settings.
    
    For daily streaks, a calendar block is shown displaying the last months streak history. Weekly and monthly streaks display the last 7 periods of streak history.

    <Frame>
      <video
        autoPlay
        muted
        loop
        playsInline
        className="w-full aspect-video"
        src="../assets/platform/emails/streak_block.mp4"
      ></video>
    </Frame>

  </Accordion>
</AccordionGroup>

### Email Variables

Trophy provides an expansive set of dynamic variables that are useful for designing highly relevant and personalized emails. Variables bring context from your Trophy account, the recipients progress data, and email specific settings to your email templates.

Email variables can be inserted by typing `{{` in any block that support text entry like H1, H2 and H3, paragraphs and buttons and searching for your chosen variable. The editor will insert the variable code for you.

<Tip>You can also use variables in email subject lines.</Tip>

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/using_variables.mp4"
  ></video>
</Frame>

See below for a full list of all email variables supported by the email builder:

<ResponseField name="user" type="object">
  Variables related to the recipient of the email.

  <Expandable title="variables">
    <ResponseField name="name" type="string">
      The full name of the user, if set.
    </ResponseField>

  </Expandable>
</ResponseField>
<ResponseField name="metrics" type="object">
    Variables referencing data from metrics within your Trophy account.

    In all metric variables, `key` relates to the unique reference you set for the metric when created. You can find this in the details page for each metric.

    <Tip>
    Variables for a metric called 'Words written' with a `key` of `words` would be accessed with a `metrics.words` prefix. For example `metrics.words.percentile`.
    </Tip>

  <Expandable title="variables">
    <ResponseField name="<key>.percentile" type="number">
      Indicates where the recipient's all time metric total ranks compared to all other tracked users. For example, if a user is in the 90th percentile, their all time metric total is higher than 90% of users that have at least one event recorded against the metric.
    </ResponseField>
    <ResponseField name="<key>.percentileThisPeriod" type="number">
      The recipent's percentile within the most recent [Aggregation Period](#aggregation-period).
    </ResponseField>
    <ResponseField name="<key>.currentTotal" type="number">
      The recipient's current total value of all events recorded against the metric.
    </ResponseField>
    <ResponseField name="<key>.percentChange" type="string">
      The percentage increase (or decrease) in the recipient's metric total as compared to the last [Aggregation Period](#aggregation-period). For example if the recipent has doubled their metric total within the aggregation period, `percentChange` would show +100. We leave it up to you to display a '%' sign if required.
    </ResponseField>
    <ResponseField name="<key>.changeThisPeriod" type="number">
      The absolute increase (or decrease) in the recipient's metric total as compared to the last [Aggregation Period](#aggregation-period). For example if the recipents metric total has increased from 500 to 750 `changeThisPeriod`, would show 250.
    </ResponseField>

  </Expandable>
</ResponseField>
<ResponseField name="streak" type="object">
  Variables related to the recipients streak.

  <Expandable title="variables">
    <ResponseField name="active" type="boolean">
      `true` if the recipient has an active streak, `false` otherwise.
    </ResponseField>
    <ResponseField name="extended" type="boolean">
      `true` if the recipient has extended their streak within the current streak period, `false` otherwise.
    </ResponseField>
    <ResponseField name="length" type="number">
      The number of consequtive periods that the user has kept their streak. 0 if the user does not have an active streak.
    </ResponseField>
    <ResponseField name="daysSinceExtended" type="number">
      The number of days since the user last extended their streak. 0 if the user has an active streak.
    </ResponseField>

  </Expandable>
</ResponseField>
<ResponseField name="period" type="object">
  Variables related to the current setting of the data [Aggregation Period](#aggregation-period).

  <Expandable title="variables">
    <ResponseField name="dateRange" type="string">
      The string representation of the current aggregation period. For example 'June 1 - June 7'.
    </ResponseField>

  </Expandable>
</ResponseField>
<ResponseField name="achievement" type="object">
  <Note>
    Only relevant in the context of [Achievement Emails](#achievement-emails).
  </Note>

  <Expandable title="variables">
    <ResponseField name="name" type="string">
      The `name` of the unlocked achievement that triggered the email.
    </ResponseField>
    <ResponseField name="isLastAchievement" type="boolean">
      `true` if the achievement the recipent unlocked is the last achievement for it's metric, `false` otherwise.
    </ResponseField>
    <ResponseField name="percentToNextAchievement" type="number">
      The percentage progress that the recipent has made to the next achievement against the same metric. 100 if `isLastAchievement` is true.
    </ResponseField>

  </Expandable>
</ResponseField>
<ResponseField name="reactivation" type="object">
  <Note>
    Only relevant in the context of [Reactivation Emails](#reactivation-emails).
  </Note>
  <Expandable title="variables">
    <ResponseField name="name" type="number">
      Trophy sends 5 reactivation emails over 30 days. This is the number of the current email in the sequence. Useful for displaying different email content throughout the sequence.
    </ResponseField>

  </Expandable>
</ResponseField>

### Text Variations

Variations can be used to add randomness to text within emails sent by Trophy. This prevents emails from getting boring and helps improve open and click rates.

Any block that supports text entry inculding H1, H2, H3 and paragraph support variations.

<Tip>You can also use variations to add randomness to email subject lines.</Tip>

To create a variation click the _Add Variation_ button on any block that supports them.

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/creating_variations.mp4"
  ></video>
</Frame>

<Note>
  Variations do not support A/B testing yet, but this is on our roadmap so stay
  tuned...
</Note>

### Using The Editor

The email template editor is a blank canvas for designing emails that look great in the inbox. Using pre-configured [Blocks](#block-types) makes it really easy to create email templates that suit common gamification use cases. Here we'll walk through how to best use the editor to create awesome looking emails.

#### Adding Blocks

To add a new block an email template hit the <Icon icon="square-slash" /> key, this will open the block selection dialog where you can choose the block you want to add.

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/add_new_block_slash.mp4"
  ></video>
</Frame>

Or if you want to add a block immediately after another block, use the block menu.

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/add_new_block_by_block_menu.mp4"
  ></video>
</Frame>

#### Arranging Blocks

Blocks can be dragged up and down using the block menu.

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/arranging_blocks.mp4"
  ></video>
</Frame>

#### Text Formatting

The email editor offers rich text formatting including bold, italics, [hyperlinks](https://www.youtube.com/watch?v=dQw4w9WgXcQ) and `code` formatting.

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/rich_text_formatting.mp4"
  ></video>
</Frame>

It also supports more complex text formatting use cases based on the [Mustache](https://mustache.github.io/mustache.5.html) specification with the most common use case being to conditionally show text based on the value of [Email Variables](#email-variables).

Here's an example where we show text if the email recipient has an active streak or not:

```
{{#streak.active}}
  You're on a streak!
{{/streak.active}}
```

Additionally, the editor support pluralization. In the below example we show different text based on if the value of the `metrics.words.currentTotal` is `1` (singular) or greater than `1` (plural).

```
{{#plural}}
  {{metrics.words.currentTotal}} words written
{{/plural}}
{{#singular}}
  {{metrics.words.currentTotal}} word written
{{/singular}}
```

<Note>
  For `#plural` and `#singular` to work, the first entry must be a number
  variable.
</Note>

## Email Customization

On the [Configure](https://app.trophy.so/emails/configure) page you'll find a couple of different settings you can control to manage email design across your Trophy account.

<Frame>
  <img
    height="200"
    width="75%"
    noZoom
    src="../assets/platform/emails/email_customization_settings.png"
  />
</Frame>

### Aggregation Period

The aggregation period controls the timeframe over which blocks like the [progress chart] track usage. It also controls the frequency at which [Recap Emails](#recap-emails) are sent. Possible values are daily, weekly, monthly or yearly.

### Font Style

Changes the font style used across all email templates. Additional styles are pulled from your Trophy account's [Branding](https://app.trophy.so/branding) settings.

## Send-time Optimization

By default all emails sent by Trophy are sent at **17:00PM ET**, however sending emails to users based on their local timezone usually results in better engagement rates.

That's why if through [User Identification](/platform/users#param-tz) you specify a timezone for each user, Trophy will optimize the send-time for you.

## Setting up Emails

Trophy supports sending emails from your own domain out-of-the-box. There are two ways to set this up, Single Sender Verification and DNS Verification.

All domain settings can be found in the [Domains](https://app.trophy.so/emails/domains) page in the Trophy dashboard.

<Tip>
  If you're looking to get set up quickly we recommend starting with Single
  Sender Verification then setting up DNS Verification when you're ready to move
  to production.
</Tip>

<CardGroup cols={2}>
  <Card
    title="Sender Verification"
    icon="check"
    href="#sender-verification-basic"
  >
    Quickly verify a single email address
  </Card>
  <Card title="DNS Verification" icon="lock" href="#dns-verification-advanced">
    Recommended for production use
  </Card>
</CardGroup>

### Sender Verification (Basic)

During onboarding you'll be prompted to set up Sender Verification. This is a super simple way to quickly verify a single email address that you want to use with Trophy without needing to change any code or DNS settings.

You'll be prompted to enter the email address, from name and reply-to email that you'd like Trophy to use when sending emails:

<Frame>
  <img
    height="200"
    width="75%"
    noZoom
    src="../assets/platform/emails/sender_verification.jpg"
  />
</Frame>

Trophy will send a verification email to that address. Simply click the link in the email to let Trophy know what you own the address and you'll be good to go.

<Note>
  The email you receive will come from our email provider, Postmark. So keep an
  eye out for 'Postmark Support' in your inbox!
</Note>

Sender Verification is great for getting started but is limited in that you won't benefit from your existing email reputation and can only send emails from one address.

Also, if you want to change the address in the future, you'll have to go through Sender Verification again which you can do in the [settings screen](https://app.trophy.so/integration?tab=domains).

### DNS Verification (Advanced)

<Tip>Recommended for production use</Tip>

For production use we recommend DNS Verification. Once set up, this allows you to configure Trophy to send emails from any address on your domain. So if you want to change the address in future, you won't need to verify again.

Completing DNS verification also gives you the full benefits of any existing domain reputation and is the best way to make sure your emails avoid the spam folder.

This does however require adding a couple of new entries into your DNS to allow Trophy to verify you own the domain.

Follow the steps below to set up DNS verification:

<Steps>
<Step title="Head to the Emails page">
    Within the Emails page, you'll find the [Domains](https://app.trophy.so/emails/domains) tab which is where you'll configure everything related to the email domain Trophy will use to send emails on your behalf.
</Step>

<Step title="Configure your domain">
    Head down to the DNS Verification section and enter the domain you want to set up with Trophy.

    You can also also configure a custom Return Path. This is where Trophy will forward notifications of bounced emails to help you investigate deliverability issues:

    <Frame>
      <img
        height="200"
        width="75%"
        noZoom
        src="../assets/platform/emails/dns-verification-1.png"
      />
    </Frame>

</Step>

<Step title="Set up your DNS records">

    Once you've entered your email domain, Trophy will provide you with details for two new DNS records that you'll need to add to your DNS provider.

    <Frame>
      <img
        height="200"
        width="75%"
        noZoom
        src="../assets/platform/emails/dns-verification-2.png"
      />
    </Frame>

    - First is the **DKIM** record which is used by inbox providers like Google to verify the authenticity of emails. Enter the name and value provided as a new **TXT** record in your DNS provider.
    - Second is the **Return Path** record. This is used to forward notifications of email bounces to your domain. Enter the name and value provided as a new **CNAME** record in your DNS provider.

    Here are the pages for the most common DNS providers on how to set up new records:

    <AccordionGroup>
      <Accordion title='GoDaddy'>
          [Add a TXT record](https://www.godaddy.com/en-uk/help/add-a-txt-record-19232)
          [Add a CNAME record](https://www.godaddy.com/en-uk/help/add-a-cname-record-19236)
      </Accordion>
      <Accordion title='Cloudflare'>
          [Add DNS records](https://developers.cloudflare.com/dns/manage-dns-records/how-to/create-dns-records/#create-dns-records)
      </Accordion>
      <Accordion title="NameCheap">
          [Add a CNAME record](https://www.namecheap.com/support/knowledgebase/article.aspx/9646/2237/how-to-create-a-cname-record-for-your-domain/)
          [Add a TXT record](https://www.namecheap.com/support/knowledgebase/article.aspx/317/2237how-do-i-add-txtspfdkimdmarc-records-for-my-domain/#:~:text=this%20guide%20.-,DKIM%20records,-DKIM%20(DomainKeys%20Identified))
      </Accordion>
    </AccordionGroup>

    <Warning>Note: If you're using a proxy like Cloudflare, make sure to turn  it off for these records or Trophy won't be able to properly verify them.</Warning>

</Step>

<Step title="Verify DNS records">

    Once you've added the two records into your DNS settings, hit the refresh icon and Trophy will attempt to verify the records for you.

    Usually Trophy can verify records within a few minutes but bear in mind that DNS changes can take up to a few hours to fully propogate.

    If you see the following alert, the records may not have propogated yet, or there may be an issue with your setup.

    <Frame>
      <img
        height="200"
        width="75%"
        noZoom
        src="../assets/platform/emails/dns-verification-3.png"
      />
    </Frame>

    Once you're sure everything's set up correctly in your DNS provider, hit refresh and Trophy will attempt to verify your DNS records once again.

    As soon as you see the following message, you know everything's verified:

    <Frame>
      <img
        height="200"
        width="75%"
        noZoom
        src="../assets/platform/emails/dns-verification-4.png"
      />
    </Frame>

</Step>

<Step title="Configure your sending address">

    Once your DNS records are verified, it's time to choose the email address you want to send emails from. Note that now you've fully verified your domain, you can change this address whenever you like without impacting deliverability.

    Simply enter the email address you want Trophy to send from, the name to show to users in the inbox when they receive emails and a support email address they can use to contact you if needed:

    <Frame>
      <img
        height="200"
        width="75%"
        noZoom
        src="../assets/platform/emails/dns-verification-5.png"
      />
    </Frame>

</Step>

</Steps>

## Handling Unsubscribes

All emails that Trophy sends include an unsubscribe link and message. This is important for maintaining compliance with regulations and it's not possible to hide it.

<Info>
  The message will read as follows: _You are receiving this email because you
  are subscribed to progress report and achievement emails. If you no longer
  wish to receive these emails, you can unsubscribe._
</Info>

Any recipient that clicks this link will no longer receive any emails from Trophy.

## Email Analytics

Trophy has built-in analytics for all Emails that it sends. This includes:

- Recipients (The total number of people that recieved the email)
- Open rate (The percentage of recipients that opened the email)
- Click rate (The percentage of recipients that clicked on at least one link in the email)
- Retention rate (The percentage of users that opened the email that came back and used your platform after at least 2 days)

<Frame>
  <video
    autoPlay
    muted
    loop
    playsInline
    className="w-full aspect-video"
    src="../assets/platform/emails/email_analytics.mp4"
  ></video>
</Frame>

## Frequently Asked Questions

<AccordionGroup>
<Accordion title="Can I send emails from my own domain?">
    Yes! Sending emails from your own domain is supported out-of-the-box. Follow the steps in the section on [Settings up Emails](#setting-up-emails) to get started.
  </Accordion>

{" "}

<Accordion title="Do you limit how many emails I can send?">
  No, we don't limit how many emails you can send. However, we do monitor usage
  to prevent abuse.
</Accordion>

</AccordionGroup>

## Get Support

Want to get in touch with the Trophy team? Reach out to us via [email](mailto:support@trophy.so). We're here to help!
